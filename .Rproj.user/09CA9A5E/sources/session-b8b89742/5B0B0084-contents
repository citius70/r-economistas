---
        title: "R para economistas"
        author: "Alberto R. Dur√°n P√©rez"
        date: "`r Sys.Date()`"
        output:
          html_document: 
            theme: united
            toc: true
            toc_float: true
            number_sections: true
          pdf_document:
            toc_depth: 1
            fig_caption: true
            latex_engine: xelatex
            number_sections: true
            toc: true
            highlight: tango
---



# Introducci√≥n: ¬øQu√© es R y por qu√© es √∫til en Econom√≠a?

**R** es un **lenguaje de programaci√≥n** muy potente dise√±ado espec√≠ficamente para el **an√°lisis estad√≠stico y la visualizaci√≥n de datos**. Es el est√°ndar en muchas √°reas cient√≠ficas y de negocios.

Para profundizar en la introducci√≥n de R aplicada a la **Econom√≠a**, es necesario entender que no estamos ante una simple calculadora, sino ante un laboratorio completo de econometr√≠a.

R es un lenguaje de c√≥digo abierto dise√±ado espec√≠ficamente para el an√°lisis **estad√≠stico y la visualizaci√≥n de datos**. En el √°mbito econ√≥mico, su utilidad radica en que se ha convertido en el est√°ndar tanto en √°reas cient√≠ficas como en el mundo de los negocios.

## ¬øPor qu√© R es el aliado del economista?

A diferencia de las hojas de c√°lculo tradicionales, R permite **manejar grandes vol√∫menes de datos** y asegurar la **reproducibilidad**. Si realizas un an√°lisis hoy, cualquier otra persona puede ejecutar tu c√≥digo y obtener exactamente los mismos resultados, algo vital en la investigaci√≥n econ√≥mica.

Haciendo un s√≠mil con un coche para entender las herramientas:

-   **R (El Motor):** Es la potencia bruta que realiza los c√°lculos matem√°ticos y estad√≠sticos. Sin √©l, no hay movimiento.

-   **RStudio (El Volante y Tablero):** Es el entorno de desarrollo (IDE) que hace que escribir c√≥digo sea una experiencia mucho m√°s amigable, visual y c√≥moda. Es la interfaz que te permite controlar el motor sin complicaciones innecesarias.

## √Åreas de aplicaci√≥n en Econom√≠a

1.  **Econometr√≠a:** Estimaci√≥n de modelos de regresi√≥n lineal y no lineal, series temporales y paneles de datos.
2.  **An√°lisis de Pol√≠ticas P√∫blicas:** Evaluaci√≥n de impacto mediante la manipulaci√≥n de microdatos (como censos o encuestas de hogares).
3.  **Visualizaci√≥n de Datos:** Creaci√≥n de gr√°ficos de alta calidad para reportes financieros o acad√©micos.
4.  **Automatizaci√≥n:** Generaci√≥n de informes autom√°ticos mediante RMarkdown para combinar an√°lisis y resultados en un solo paso.

EL proceso de trabajo con R est√° enfocado en el uso de tres herramientas:

1.  **R**, es el motor del lenguaje (hace los c√°lculos necesarios).

2.  **RStudio**, aplicaci√≥n que facilita la programaci√≥n en R.

3.  **RMarkdown**, aplicaci√≥n incluida en RStudio que permite presentar los resultados de forma atractiva visualmente.

**¬°Recuerda bien estos tres nombres!**

Esta base s√≥lida es el primer paso del camino, que hemos dividido en tres etapas l√≥gicas: el taller (**instalaci√≥n**), el lenguaje (**sintaxis**) y la publicaci√≥n (**RMarkdown**).

## El "taller": Instalaci√≥n y configuraci√≥n

Para trabajar c√≥modamente, normalmente no usamos **R** "a secas", sino que lo combinamos con **RStudio**, que es un entorno de desarrollo (IDE) que hace que *escribir c√≥digo sea mucho m√°s amigable*.

En esta secci√≥n, aprender√°s a preparar tu equipo de trabajo. Los puntos clave a incluir son:

-   **Instalaci√≥n dual**: Deben instalar primero R y luego RStudio.

-   **Interfaz de RStudio**: Es necesario conocer para qu√© sirve cada ventana del programa para que los usuarios se sientan orientados desde el primer momento.

Veamos las instalaci√≥n **tanto en Windows como en Mac**. El proceso es muy similar, pero los archivos de instalaci√≥n del "motor" (R) son distintos.

Vamos a instalar primero el **motor (R)**. Recuerda: sin esto, RStudio no funcionar√°.

> **Paso 1: Instalar R (El Motor)**

Ve al sitio oficial llamado **CRAN** (Comprehensive R Archive Network). Aqu√≠ es donde vive R.

Para Windows:

:   1.  Entra en: `cran.r-project.org/bin/windows/base/`

    2.  Haz clic en el enlace grande que dice **"Download R [versi√≥n] for Windows"**.

    3.  Ejecuta el archivo `.exe` y acepta todo por defecto (Siguiente, Siguiente...).

Para Mac:

:   1.  Entra en: `cran.r-project.org/bin/macosx/`

    2.  Aqu√≠ hay una peque√±a bifurcaci√≥n importante:

        -   Si tu Mac tiene chip **Apple (M1, M2, M3...)**, descarga el archivo que dice `arm64.pkg`.

        -   Si es una Mac m√°s antigua con chip **Intel**, descarga el archivo que dice `x86_64.pkg`.

    3.  Instala el archivo `.pkg` como cualquier otra aplicaci√≥n de Mac.

> **Paso 2: Instalar RStudio (El Tablero)**

Una vez que el motor est√° instalado en ambos equipos, vamos por el tablero de control.

1.  Ve al sitio de **Posit** (los creadores de RStudio): `posit.co/download/rstudio-desktop/`

2.  Despl√°zate hacia abajo hasta encontrar el bot√≥n **"Download RStudio Desktop for..."** (la p√°gina suele detectar tu sistema autom√°ticamente).

3.  Inst√°lalo (en Mac arrastr√°ndolo a Aplicaciones, en Windows con el instalador).

### Verificaci√≥n

Cuando termines, **no abras el icono de "R"**. Busca y abre √∫nicamente el programa **RStudio**.

Deber√≠as ver una ventana dividida en paneles (generalmente 3 o 4). ¬øPudiste abrir RStudio correctamente y ver algo parecido a esto?

![Interfaz de RStudio](img/rstudio.png)

## Sintaxis: primeros pasos b√°sicos

¬°Excelente! Si ya tienes **RStudio** abierto, deber√≠as ver una interfaz dividida en cuadrantes. Por ahora, lo m√°s importante es que localices la **Consola** (Console), que suele ser el panel grande a la izquierda o abajo a la izquierda donde aparece un s√≠mbolo de mayor que `>`. Ah√≠ es donde R espera tus √≥rdenes.

Vamos a empezar a "hablar" con R para entender c√≥mo maneja la informaci√≥n. En R, casi todo se basa en **Variables** y **Funciones**.

### Variables y Asignaci√≥n üì•

Para **guardar un dato y usarlo despu√©s**, usamos el operador de asignaci√≥n `<-` (flecha hacia la izquierda u gui√≥n medio). Podemos asemejarlo a una caja de mudanzas con una etiqueta (*caja con 10 libros*, `caja = 10`).

```{r}
mi_edad <- 25
# (Guardamos el n√∫mero 25 en la variable "mi_edad").

nombre <- "Alex"
# (Guardamos texto, que siempre va entre comillas).

cantidad = 127
```

### Vectores: Las listas de R üß±

R no solo maneja n√∫meros sueltos; su especialidad son las **listas de datos** del mismo tipo, llamadas **Vectores**. Se crean con la funci√≥n `c()` (de combinar).

```{r}
precios <- c(10, 15, 20, 25)

nombres <- c("Ana", "Luis", "Marta")
```

Para ver si el motor est√° bien aceitado, intentemos un ejercicio r√°pido en tu **consola**. Imagina que tienes las notas de tres ex√°menes: 8, 7.75 y 6.50.

> **¬øC√≥mo escribir√≠as el c√≥digo para crear un vector (lista) llamado `mis_notas` que contenga esos tres n√∫meros?** (Pista: usa la funci√≥n `c()`).

¬°Muy bien! Vamos a poner a prueba ese motor.

En la **Consola**, escribe la siguiente l√≠nea y presiona **Enter**:

```{r}
mis_notas = c(8, 7.75, 6.50)
```

Si lo hiciste bien, notar√°s que en el panel superior derecho (llamado **Environment**) ahora aparece `mis_notas`. R ya lo tiene en su memoria.

#### Operaciones Vectorizadas ‚ö°

Lo mejor de R es que puedes hacer c√°lculos con toda la lista de datos a la vez. No necesitas sumar uno por uno. Por ejemplo, si el profesor decide regalar **2 puntos** a todos por buena conducta, solo tienes que escribir:

```{r}
mis_notas + 2
```

R le sumar√° 2 a cada n√∫mero del vector autom√°ticamente.

------------------------------------------------------------------------

### Tu turno: El Desaf√≠o del Promedio üìà

R tiene funciones integradas para casi todo. La funci√≥n para calcular el **promedio** (o **media aritm√©tica**) se llama `mean()`.

**¬øC√≥mo intentar√≠as calcular el promedio de tu vector `mis_notas` usando esa funci√≥n?** (Pista: Pon el nombre de tu vector dentro de los par√©ntesis).

```{r}
mean(mis_notas)
```

¬°Exacto! Esa es la forma de "llamar" a una funci√≥n en R. Si ejecutas `mean(mis_notas)`, R te devolver√° el promedio exacto de esos tres valores.

Ahora que ya sabes c√≥mo darle √≥rdenes b√°sicas a R, vamos a subir de nivel. Hasta ahora hemos escrito c√≥digo directamente en la **Consola**, pero eso tiene un problema: cuando cierras el programa, el c√≥digo desaparece.

Para trabajar como un profesional, usamos **R Markdown**.

## La publicaci√≥n: ¬øQu√© es R Markdown?

**R Markdown** es un formato de archivo que te permite mezclar **tres elementos** en un solo lugar:

1.  **Texto** normal (para explicar lo que haces).

2.  **C√≥digo** de R (para hacer los c√°lculos).

3.  **Resultados** (gr√°ficas y tablas que se generan autom√°ticamente).

Eto te permitir√° presentar los resultados de tus an√°lisis de forma m√°s atractiva, e incluso, exportarla a muchos formatos de documentos como HTML, PDF, Word, ..., o formatos de presentaciones como Power Point, Slidy, Beamer...

Puedes encontrar m√°s informaci√≥n en <https://rmarkdown.rstudio.com/>

### C√≥mo crear tu primer documento

1.  En RStudio, ve a **File** -\> **New File** -\> **R Markdown...**

2.  Ponle un t√≠tulo (por ejemplo: "Mi Primer An√°lisis") y haz clic en **OK**.

3.  Se abrir√° un archivo con un texto de ejemplo. Ver√°s unas cajas grises que empiezan con ```` ```{r} ````. Esas cajas se llaman **Chunks** (trozos de c√≥digo).

#### Tu primera misi√≥n en R Markdown

Busca un bot√≥n en la parte superior que tiene un icono de una peque√±a madeja de lana y dice **Knit** (tejer) üß∂. Al presionarlo, RStudio "tejer√°" todo tu c√≥digo y texto para crear un archivo **HTML** o **PDF** profesional.

**¬øQu√© pasa cuando intentas presionar ese bot√≥n de "Knit" por primera vez?** (A veces RStudio te pedir√° instalar unos paquetes adicionales antes de continuar).

Es muy com√∫n que la primera vez que presionas **Knit** üß∂, RStudio te muestre un mensaje en la parte superior diciendo que faltan algunos "paquetes" (como `knitr`, `rmarkdown` o `tinytex`). Si te aparece un bot√≥n que dice **Install**, dale clic sin miedo; son las herramientas que R necesita para traducir tu c√≥digo a un documento bonito.

Una vez que el proceso termina, se abrir√° una ventana nueva con tu documento terminado. Lo que acabas de hacer es "renderizar" el archivo.

### La estructura de un R Markdown üìù

Para que seas un experto en esto, debes distinguir las tres partes de un archivo `.Rmd`:

1.  **El Encabezado (YAML):** Est√° al principio entre l√≠neas `---`. Aqu√≠ defines el t√≠tulo, el autor y si quieres un HTML, PDF o Word.
2.  **El Texto:** Se escribe fuera de las cajas grises. Puedes usar formato simple:

-   `**negrita**`
-   `# T√≠tulo`
-   `## Subt√≠tulo`

3.  **Los Chunks (C√≥digo):** Son las cajas grises que empiezan con \`\`\``{r}`. Todo lo que escribas ah√≠ dentro ser√° ejecutado por el motor de R.

------------------------------------------------------------------------

### Vamos a personalizarlo üõ†Ô∏è

Busca en tu archivo de ejemplo una de esas cajas grises (chunks). Borra lo que tiene adentro y escribe el c√≥digo que usamos antes:

```{r}
mis_notas <- c(85, 90, 78)
mean(mis_notas)
```

Ahora, vuelve a presionar **Knit**. Ver√°s que en tu documento final aparece tanto el c√≥digo como el resultado del promedio justo debajo.

**¬øQu√© te parece el resultado? ¬øTe gustar√≠a intentar crear una gr√°fica sencilla dentro de ese mismo documento para ver c√≥mo se incluye autom√°ticamente?**

## Visualizaci√≥n de los datos

¬°Excelente! Ya tienes tu primer documento "vivo" donde el c√≥digo y la explicaci√≥n conviven. üìù‚ú®

Para que tu reporte pase de ser una lista de n√∫meros a un an√°lisis real, vamos a a√±adir una **gr√°fica**. R es famoso por su capacidad de visualizaci√≥n.

### Gr√°ficas instant√°neas üìà

En R, existe una funci√≥n b√°sica llamada `plot()`. Si le pasas un vector de n√∫meros, R entender√° que quieres ver c√≥mo se distribuyen.

Intenta a√±adir esto en un nuevo **chunk** (una nueva caja gris de c√≥digo) dentro de tu archivo R Markdown:

```{r}
plot(mis_notas,       
     type = "b",
     main = "Evoluci√≥n de mis Calificaciones",
     xlab = "N√∫mero de Examen",
     ylab = "Nota")
```

#### Entendiendo los argumentos

F√≠jate que dentro de los par√©ntesis no solo pusimos los datos, sino tambi√©n "instrucciones" extra:

-   `type = "b"`: Crea una gr√°fica de puntos y l√≠neas (**b**oth).

-   `main`: El t√≠tulo principal.

-   `xlab` / `ylab`: Etiquetas para los ejes X e Y.

### El toque final: Personalizaci√≥n

**R Markdown** te permite decidir **c√≥mo** se ve ese c√≥digo en el informe final usando opciones dentro de las llaves del chunk `{r}`.

Por ejemplo, si quieres que la gr√°fica aparezca en tu PDF/HTML, pero no quieres que se vea el c√≥digo "feo" que la gener√≥, puedes usar `echo = FALSE`.

> **¬øTe gustar√≠a que probemos a cambiar el color de la gr√°fica o prefieres que veamos c√≥mo organizar mejor el texto con t√≠tulos y subt√≠tulos en el documento?**

¬°Excelente! Vamos a darle un poco de color y estructura a ese documento. üé®

Para cambiar el color de la gr√°fica, usamos el argumento `col`. R reconoce nombres de colores b√°sicos en ingl√©s (como `"blue"`, `"red"`, `"darkgreen"`, etc.).

#### Personalizando la gr√°fica üñåÔ∏è

Modifica el c√≥digo de tu chunk as√≠:

```{r}
plot(mis_notas, 
     type = "b", 
     col = "blue",          # Cambia el color a azul
     pch = 19,              # Cambia el estilo del punto a uno s√≥lido
     main = "Evoluci√≥n de mis Calificaciones", 
     xlab = "N√∫mero de Examen", 
     ylab = "Nota")
```

------------------------------------------------------------------------

#### Estructurando el texto con Markdown üìù

Fuera de las cajas grises, puedes organizar tu explicaci√≥n usando niveles de t√≠tulos. Esto es muy importante para que el documento final tenga un √≠ndice y sea f√°cil de leer. Pru√©balo escribiendo esto en el √°rea de texto:

``` markdown
# Reporte del Semestre
Este es mi primer an√°lisis autom√°tico usando **R Markdown**.

## An√°lisis de Ex√°menes
A continuaci√≥n, se muestra el promedio y la tendencia de mis notas.
```

Al presionar **Knit** üß∂, ver√°s que el texto se convierte en t√≠tulos grandes y peque√±os, y la gr√°fica aparecer√° con el nuevo color.

------------------------------------------------------------------------

### ¬øQu√© sigue en nuestro aprendizaje? üöÄ

Ahora que ya sabes instalar, escribir c√≥digo b√°sico y generar un reporte, podemos profundizar en lo que m√°s te interese:

1.  **Manipulaci√≥n de Datos:** Aprender a usar `Data Frames` (tablas como las de Excel) y filtrarlas.
2.  **Gr√°ficas Avanzadas:** Introducci√≥n a `ggplot2`, la librer√≠a est√°ndar para hacer gr√°ficos de nivel profesional.
3.  **Configuraci√≥n de RMarkdown:** Aprender a ocultar el c√≥digo, cambiar el formato a PDF o a√±adir tablas autom√°ticas.

¬øCu√°l de estos caminos te llama m√°s la atenci√≥n para continuar?

------------------------------------------------------------------------

# ¬øY ahora qu√©?

Hay muchos recursos en Internet para seguir avanzando en el estudio de R. pero entre ellas hay uno destacado que es seguir el curso [Swirl](https://swirlstats.com/). Este curso est√° dise√±ado para seguirlo dentro de **RStudio**.

## Curso Swirl

Este curso inicialmente se dise√±√≥ en ingl√©s, pero actualmente se encuentra traducido al espa√±ol por Jos√© Rosa ([swirl_espa√±ol](https://github.com/josersosa/Programando_en_R)). Para seguirlo en RStudio necesitamos instalar en √©l un par de cosas.

### Crear carpeta

1.  Instalaci√≥n del curso Swirl en espa√±ol.

2.  Abre el programa RStudio

3.  Crea una carpeta en en la que instalar el curso.

    ![*Crear carpeta*](img/Captura%20de%20pantalla%202026-02-03%20202059.png){width="652"}

4.  ¬°Importante! Aseg√∫rate que lo que vas a escribir en la **Consola** de RStudio se haga dentro de esta carpeta.

    -   Para ello, haz clic en el icono de engraje y selecciona `Set as working directory`.

    -   Aseg√∫rate de que est√°s trabajando en esta carpeta yendo a la **Consola** de RStudio y escribiendo `getwd()` y pulsando ENTER.

        ![getwd()](img/Captura%20de%20pantalla%202026-02-03%20203609.png){width="411"}

### Instalar curso

1.  Instala el paquete del curso dede la misma **Consola** de RStudio, escribiendo: `install.packages("swirl")`

2.  A continuaci√≥n: `library(swirl)`

3.  Por √∫ltimo: `install_course_github('josersosa','Programando_en_R')`

### Inicializar el curso

Cada vez que quieras seguir el curso debes escribir esto:

1.  Escribe: `swirl()`

Al comienzo nos solicita un **nombre** para identificarnos y almacenar los avances que hagamos en el caso que deseemos pausar el curso. Si introducimos n todas las sesiones el mismo nombre, el curso se abrir√° donde lo dejamos anteriormente.

Las primeras informaciones estan en ingles porque provienen del paquete swirl. Luego seleccionamos el curso ***Programando en R*** y a partir de ah√≠ todo lo esencial estar√° traducido. Las √∫ltimas versiones de swirl incluyen una funci√≥n para seleccionar el idioma, que pdemos utilizar para que los mensajes del sistema est√©n en espa√±ol: `select_language(language = "spanish").`

El curso est√° nombrado como **1. Programando en R** que tiene **15 cap√≠tulos. Al principio cuesta un poco recorrer los men√∫s.**

![*Los 15 cap√≠tulos del curso*](img/Captura%20de%20pantalla%202026-02-03%20205322.png)
